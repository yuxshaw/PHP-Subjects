webpackJsonp([27],{JQ3n:function(t,e){},UVUB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("vAZe");var a=n("Au9i"),i=n("Brjg"),o={name:"MobileRetrieve",data:function(){return{username:"",code:"",password:"",confirmPassword:""}},methods:{goBack:function(){this.$router.go(-1)},onVerify:function(){var t=this.username;0!==t.length?this.validator.isNumber(t)?(a.Indicator.open(),this.onSendCode(t)):Object(a.Toast)("请输入正确格式的手机号"):Object(a.Toast)("请输入手机号")},onSendCode:function(t){var e=this;i.c("86",t).then(function(t){a.Indicator.close(),e.$refs.timer.start()},function(t){a.Indicator.close(),Object(a.Toast)(t.errorMsg),e.$refs.timer.stop()})},check:function(){var t=this.username,e=this.code,n=this.password,i=this.confirmPassword;return 0===t.length?(Object(a.Toast)("请输入手机号"),!1):0===e.length?(Object(a.Toast)("请输入验证码"),!1):6!==e.length?(Object(a.Toast)("请输入6位验证码"),!1):0===n.length?(Object(a.Toast)("请输入密码"),!1):n.length<6||n.length>20?(Object(a.Toast)("请输入6-20个字符的密码"),!1):0===i.length?(Object(a.Toast)("请输入确认密码"),!1):n.length!==i.length?(Object(a.Toast)("确认密码与输入密码不一致"),!1):n===i||(Object(a.Toast)("确认密码与输入密码不一致"),!1)},retrieve:function(){var t=this;this.check()&&(a.Indicator.open(),i.b(this.username,this.code,this.password).then(function(e){a.Indicator.close(),t.goMobileConfirm()},function(t){a.Indicator.close(),Object(a.Toast)(t.errorMsg)}))},onSubmit:function(){this.retrieve()},goMobileConfirm:function(){this.$router.push({name:"mobileConfirm"})}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"section-wrapper top-wrapper"},[n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{placeholder:"请输入手机号",maxlength:"11"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"bottom-input",attrs:{placeholder:"请输入手机验证码",maxlength:"6"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),n("countdown-button",{ref:"timer",staticClass:"countdown",on:{onclick:t.onVerify}})],1)]),t._v(" "),n("div",{staticClass:"section-wrapper bottom-wrapper"},[n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"设置密码",maxlength:"20"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"bottom-input",attrs:{type:"password",placeholder:"确认密码",maxlength:"20"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})])]),t._v(" "),n("label",{staticClass:"tips"},[t._v("6-20位数字/字母/符号")]),t._v(" "),n("gk-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")])],1)},staticRenderFns:[]};var s=n("VU/8")(o,r,!1,function(t){n("ks+1")},"data-v-fea51026",null).exports,c=n("WgWG"),l={name:"EmailRetrieve",data:function(){return{email:""}},methods:{goBack:function(){this.$router.go(-1)},check:function(){var t=this.email;return 0===t.length?(Object(a.Toast)("请输入邮箱"),!1):!!this.validator.isEmail(t)||(Object(a.Toast)("邮箱地址不正确"),!1)},retrieve:function(){var t=this;this.check()&&(a.Indicator.open(),c.a(this.email).then(function(e){a.Indicator.close(),t.goEmailConfirm()},function(t){a.Indicator.close(),Object(a.Toast)(t.errorMsg)}))},onSubmit:function(){this.retrieve()},goEmailConfirm:function(){this.$router.push({name:"emailConfirm",query:{email:this.email}})}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"section-wrapper top-wrapper"},[n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"bottom-input",attrs:{placeholder:"请输入您的邮箱"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),n("label",{staticClass:"tips"},[t._v("我们将发送密码修改链接到您绑定的邮箱")]),t._v(" "),n("gk-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("发送邮件")])],1)},staticRenderFns:[]};var d={name:"Retrieve",components:{MobileRetrieve:s,EmailRetrieve:n("VU/8")(l,u,!1,function(t){n("JQ3n")},"data-v-7e0f1fd7",null).exports},data:function(){return{currentIndex:0,items:[{id:1,title:"手机号"},{id:2,title:"邮箱"}]}},methods:{goBack:function(){this.$router.go(-1)},onIndexChange:function(t){this.currentIndex=t}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("mt-header",{staticClass:"header",attrs:{fixed:"",title:"密码找回"}},[n("header-item",{attrs:{slot:"left",isBack:!0},on:{onclick:t.goBack},slot:"left"})],1),t._v(" "),n("top-list",{staticClass:"topList",attrs:{items:t.items},on:{onIndexChange:t.onIndexChange}}),t._v(" "),0===t.currentIndex?n("mobile-retrieve"):1===t.currentIndex?n("email-retrieve"):t._e()],1)},staticRenderFns:[]};var p=n("VU/8")(d,m,!1,function(t){n("UqAR")},"data-v-3c69a30a",null);e.default=p.exports},UqAR:function(t,e){},WgWG:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var a=n("erh5"),i=function(t,e,n,i){return Object(a.a)("/v2/ecapi.auth.default.signup","POST",{username:t,email:e,password:n,invite_code:i})},o=function(t){return Object(a.a)("/v2/ecapi.auth.default.reset","POST",{email:t})}},"ks+1":function(t,e){}});
//# sourceMappingURL=27.507419068b798f827233.js.map