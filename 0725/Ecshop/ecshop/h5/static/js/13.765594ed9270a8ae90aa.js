webpackJsonp([13],{"5HZu":function(t,r){},Bmig:function(t,r){t.exports="data:image/png;base64,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"},CqRK:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e("vAZe");var s=e("Au9i"),n={render:function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"container"},[r("mt-header",{staticClass:"header",attrs:{title:"我的订单"}},[r("header-item",{attrs:{slot:"left",isBack:!0},on:{onclick:this.goBack},slot:"left"})],1)],1)},staticRenderFns:[]};var i=e("VU/8")({methods:{goBack:function(){this.$route.params.isFromHome?this.$router.go(-1):this.$router.push("/profile")}}},n,!1,function(t){e("5HZu"),e("XqwQ")},"data-v-479d9e12",null).exports,a=e("woOf"),o=e.n(a),c=e("Dd8w"),l=e.n(c),q=e("q1Mq"),d=e("FWz8"),u=e("NYxO"),k={name:"page-navbar",data:function(){return{ORDERNAV:q.b,ORDERSTATUS:q.c,orderList:[],orderCancel:[],isLoaded:!1,isLoading:!1,page:1,isMore:0,popupVisible:!1,slots:[{flex:1,values:["不想要了","支付不成功","价格较贵","缺货","等待时间过长"],className:"slot1",textAlign:"center"}],reasonList:[],success:[],reasonId:"",message:"",checkState:"",cancelSelectItem:null}},created:function(){this.getUrlParams(),this.orderReasonList(),this.loadFirstPageData()},computed:l()({},Object(u.e)({orderStatus:function(t){return t.order.orderStatus},orderItem:function(t){return t.order.orderItem}})),methods:l()({},Object(u.d)({changeStatus:"changeStatus",changeItem:"changeItem"}),{getUrlParams:function(){var t=this.$route.params.order,r=this.orderStatus;null==t?this.changeStatus(t):this.changeStatus(r)},goOrderDetail:function(t){this.$router.push({name:"orderDetail",query:{id:t}})},setOrderNavActive:function(t){this.changeStatus(t),this.loadFirstPageData()},loadFirstPageData:function(){this.loadPageData(!0)},loadMorePageData:function(){this.loadPageData(!1)},loadPageData:function(t){var r=this,e=1;e=t?1:this.page+1;var s=this.orderStatus;this.isLoading=!0,Object(d.d)(e,10,s).then(function(e){e&&e.orders&&(r.orderList=t?e.orders:r.orderList.concat(e.orders),r.isLoading=!1,r.isMore=e.paged.more,r.isLoaded=!0,e.paged&&e.paged.page&&(r.page=parseInt(e.paged.page)))},function(t){r.isLoading=!1,r.isLoaded=!0})},getOrderStatusBy:function(t){for(var r=this.ORDERSTATUS,e=0,s=r.length;e<=s-1;e++)if(r[e].id==t)return r[e].name},loadMore:function(){this.isMore&&!this.isLoading&&this.loadMorePageData()},cancel:function(t){this.cancelSelectItem=t,this.popupVisible=!0,this.stop()},cancelInfo:function(){this.popupVisible=!1,this.move()},complete:function(t){this.popupVisible=!1,this.getordersuccess(this.cancelSelectItem.id,t),this.move()},stop:function(){document.body.style.overflow="hidden",document.addEventListener("touchmove",function(t){t.preventDefault()},!1)},move:function(){document.body.style.overflow="",document.removeEventListener("touchmove",function(t){t.preventDefault()},!1)},track:function(t){this.$router.push({name:"orderTrack",params:{orderTrack:t}})},payment:function(t){this.$router.push({name:"payment",query:{order:t.id,total:t.total}})},goVisit:function(){this.$router.push("/home")},confirm:function(t,r){var e=this;s.MessageBox.confirm("是否确认收货？","确认收货").then(function(s){e.changeItem(t),e.orderConfirms(t.id,r)})},orderConfirms:function(t,r){var e=this;Object(d.b)(t).then(function(s){s&&(e.orderList[r]=s.order,e.$router.push({name:"orderTrade",query:{id:t}}))})},goBuy:function(t){var r=this;s.Indicator.open({spinnerType:"fading-circle"}),Object(d.g)(t).then(function(t){t&&(s.Indicator.close(),r.$router.push("/cart"))})},goComment:function(t){this.changeItem(t),this.$router.push({name:"orderComment",query:{order:t.id}})},orderReasonList:function(){var t=this;Object(d.f)().then(function(r){r&&(t.reasonList=o()([],t.reasonList,r.reasons))})},getordersuccess:function(t,r){var e=this;this.reasonId?Object(d.a)(t,this.reasonId).then(function(t){t&&(e.orderList=[],e.loadFirstPageData())}).catch(function(t){Object(s.Toast)("请选择取消原因")}):Object(s.Toast)("请选择取消原因")},getReasonItem:function(t){this.reasonId=t.id}})},O={render:function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{staticClass:"order-wrapepr"},[s("div",{staticClass:"order-header"},[s("ul",t._l(t.ORDERNAV,function(r){return s("li",{key:r.id,staticClass:"item",class:{active:t.orderStatus==r.id},on:{click:function(e){t.setOrderNavActive(r.id)}}},[t._v("\n\t\t\t\t"+t._s(r.name)+"\n\t\t\t")])}))]),t._v(" "),t.orderList.length>0?s("base-list",{staticClass:"order-body",attrs:{items:t.orderList,isMore:t.isMore,isLoaded:t.isLoaded},on:{loadMore:t.loadMore}},t._l(t.orderList,function(r,n){return s("div",{key:n,staticClass:"list"},[s("div",{staticClass:"tips-body"},[s("span",{staticClass:"tips"},[t._v(" 订单编号: "+t._s(r.sn)+" ")]),t._v(" "),4!=r.status?s("span",{staticClass:"title tips statusTips"},[t._v("\n\t\t\t\t\t"+t._s(t.getOrderStatusBy(r.status))+"\n\t\t\t\t")]):t._e(),t._v(" "),4==r.status?s("span",[s("img",{attrs:{src:e("pH7v")}})]):t._e()]),t._v(" "),r.goods.length>0?s("div",{staticClass:"order-image",on:{click:function(e){t.goOrderDetail(r.id)}}},[t._l(r.goods,function(r){return r.product.photos.length>0?s("img",{attrs:{src:r.product.photos[0].thumb,"data-src":"../../../assets/image/change-icon/default_image_02@2x.png"}}):t._e()}),t._v(" "),t._l(r.goods,function(r){return r.product.photos.length<=0?s("img",{attrs:{src:e("aVgn")}}):t._e()})],2):t._e(),t._v(" "),s("div",{staticClass:"price"},[t._v("\n\t\t\t\t(共计"+t._s(r.goods.length)+"件商品) 合计 : ￥ "),s("i",[t._v(t._s(r.total))]),s("i",{staticClass:"freight"},[t._v("(含运费:￥"+t._s(r.shipping.price)+")")])]),t._v(" "),s("div",{staticClass:"order-list-opratio"},[0==r.status?s("div",{staticClass:"btn"},[s("button",{on:{click:function(e){t.cancel(r)}}},[t._v("取消订单")]),t._v(" "),s("mt-popup",{staticClass:"mint-popup",attrs:{position:"bottom"},model:{value:t.popupVisible,callback:function(r){t.popupVisible=r},expression:"popupVisible"}},[s("div",{staticClass:"cancels"},[s("div",{staticClass:"cancelInfo"},[s("span",{staticClass:"cancel",on:{click:function(r){t.cancelInfo()}}},[t._v("取消")]),t._v(" "),s("span",{staticClass:"success",on:{click:function(r){t.complete(n)}}},[t._v("完成")])]),t._v(" "),s("div",{staticClass:"reason"},t._l(t.reasonList,function(r,e){return s("p",{key:e,on:{click:function(e){t.getReasonItem(r)}}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(r.name)+"\n\t\t\t\t\t\t\t\t")])}))])]),t._v(" "),s("button",{staticClass:"buttonright",on:{click:function(e){t.payment(r)}}},[t._v("\n\t\t\t\t\t\t去支付\n\t\t\t\t\t")])],1):t._e(),t._v(" "),1!=r.status&&t.checkState?s("div",{staticClass:"btn"}):t._e(),t._v(" "),2==r.status?s("div",{staticClass:"btn"},[s("button",{on:{click:function(e){t.track(r.id)}}},[t._v("查看物流")]),t._v(" "),s("button",{staticClass:"buttonright",on:{click:function(e){t.confirm(r,n)}}},[t._v("\n\t\t\t\t\t\t确认收货\n\t\t\t\t\t")])]):t._e(),t._v(" "),3==r.status?s("div",{staticClass:"btn"},[s("button",{on:{click:function(e){t.goComment(r)}}},[t._v("评价晒单")])]):t._e(),t._v(" "),6==r.status?s("div",{staticClass:"btn"},[s("button",{on:{click:function(e){t.track(r.id)}}},[t._v("查看物流")]),t._v(" "),s("button",{staticClass:"buttonright",on:{click:function(e){t.confirm(r,n)}}},[t._v("\n\t\t\t\t\t\t确认收货\n\t\t\t\t\t")])]):t._e()])])})):t._e(),t._v(" "),t.orderList.length<=0&&!t.isLoading&&t.isLoaded?s("div",{staticClass:"order-empty"},[s("img",{attrs:{src:e("Bmig")}}),t._v(" "),s("p",[t._v("您的订单为空")]),t._v(" "),s("button",{staticClass:"button",on:{click:function(r){t.goVisit()}}},[s("label",[t._v("随便逛逛")])])]):t._e()],1)},staticRenderFns:[]};var v={components:{OrderHeader:i,OrderNav:e("VU/8")(k,O,!1,function(t){e("x9SX")},"data-v-6e668fb3",null).exports}},p={render:function(){var t=this.$createElement,r=this._self._c||t;return r("div",[r("order-header"),this._v(" "),r("order-nav")],1)},staticRenderFns:[]};var f=e("VU/8")(v,p,!1,function(t){e("RjTZ")},"data-v-1d2bf8e8",null);r.default=f.exports},RjTZ:function(t,r){},XqwQ:function(t,r){},pH7v:function(t,r,e){t.exports=e.p+"static/img/e3_seal@2x.5f47a40.png"},x9SX:function(t,r){}});
//# sourceMappingURL=13.765594ed9270a8ae90aa.js.map