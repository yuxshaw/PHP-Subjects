webpackJsonp([28],{C0xi:function(t,e){},WgWG:function(t,e,s){"use strict";s.d(e,"b",function(){return a}),s.d(e,"a",function(){return o});var n=s("erh5"),a=function(t,e,s,a){return Object(n.a)("/v2/ecapi.auth.default.signup","POST",{username:t,email:e,password:s,invite_code:a})},o=function(t){return Object(n.a)("/v2/ecapi.auth.default.reset","POST",{email:t})}},dWgr:function(t,e){},oKgP:function(t,e){},vCTo:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("vAZe");var n=s("Dd8w"),a=s.n(n),o=s("Au9i"),i=s("NYxO"),r=s("Brjg"),c=s("oFZM"),l={name:"MobileSignup",data:function(){return{username:"",code:"",password:"",confirmPassword:"",aggrementUrl:""}},mounted:function(){},created:function(){var t=this;c.b().then(function(e){e&&e.site_info&&(t.aggrementUrl=e.site_info.terms_url)},function(t){})},methods:a()({},Object(i.d)({saveToken:"signin",saveUser:"saveUser"}),{goBack:function(){this.$router.go(-1)},goProfile:function(){this.$router.go(-2)},goProfileAdd:function(){this.$router.push({name:"profileAdd"})},onVerify:function(){var t=this,e=this.username;0!==e.length?this.validator.isNumber(e)?(o.Indicator.open(),r.e("86",e).then(function(s){t.onSendCode(e)},function(t){o.Indicator.close(),Object(o.Toast)(t.errorMsg)})):Object(o.Toast)("请输入正确格式的手机号"):Object(o.Toast)("请输入手机号")},onSendCode:function(t){var e=this;r.c("86",t).then(function(t){o.Indicator.close(),e.$refs.timer.start()},function(t){o.Indicator.close(),Object(o.Toast)(t.errorMsg),e.$refs.timer.stop()})},check:function(){var t=this.username,e=this.code,s=this.password,n=this.confirmPassword;return 0===t.length?(Object(o.Toast)("请输入手机号"),!1):0===e.length?(Object(o.Toast)("请输入验证码"),!1):6!==e.length?(Object(o.Toast)("请输入6位验证码"),!1):0===s.length?(Object(o.Toast)("请输入密码"),!1):s.length<6||s.length>20?(Object(o.Toast)("请输入6-20个字符的密码"),!1):0===n.length?(Object(o.Toast)("请输入确认密码"),!1):s.length!==n.length?(Object(o.Toast)("确认密码与输入密码不一致"),!1):s===n||(Object(o.Toast)("确认密码与输入密码不一致"),!1)},signup:function(){var t=this;if(this.check()){var e=this.$cookie.get("r");o.Indicator.open(),r.d(this.username,this.code,this.password,e).then(function(e){t.saveToken({token:e.token}),o.Indicator.close(),t.saveUser(e.user),e.user&&e.user.is_completed?(Object(o.Toast)("注册成功"),t.goProfile()):t.goProfileAdd()},function(t){o.Indicator.close(),Object(o.Toast)(t.errorMsg)})}},onSubmit:function(){this.signup()},onAgreement:function(){this.$router.push({name:"webPage",query:{url:this.aggrementUrl,title:"注册协议"}})}})},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"section-wrapper top-wrapper"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{placeholder:"请输入手机号",maxlength:"11"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"bottom-input",attrs:{placeholder:"请输入手机验证码",maxlength:"6"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),s("countdown-button",{ref:"timer",staticClass:"countdown",on:{onclick:t.onVerify}})],1)]),t._v(" "),s("div",{staticClass:"section-wrapper bottom-wrapper"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"设置密码",maxlength:"20"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"bottom-input",attrs:{type:"password",placeholder:"确认密码",maxlength:"20"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})])]),t._v(" "),s("label",{staticClass:"tips"},[t._v("6-20位数字/字母/符号")]),t._v(" "),s("gk-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("注册")]),t._v(" "),s("div",{staticClass:"link-wrapper"},[s("span",{staticClass:"left-text"},[t._v("点击注册表示同意")]),t._v(" "),s("span",{staticClass:"right-text",on:{click:t.onAgreement}},[t._v("《用户协议》")])])],1)},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(t){s("oKgP")},"data-v-00e4fe75",null).exports,p=s("WgWG"),m={name:"EmailSignup",data:function(){return{username:"",password:"",confirmPassword:"",aggrementUrl:"",email:""}},created:function(){var t=this;c.b().then(function(e){e&&e.site_info&&(t.aggrementUrl=e.site_info.terms_url)},function(t){})},methods:a()({},Object(i.d)({saveToken:"signin",saveUser:"saveUser"}),{goBack:function(){this.$router.go(-1)},goProfile:function(){this.$router.go(-2)},goProfileAdd:function(){this.$router.push({name:"profileAdd"})},check:function(){var t=this.username,e=this.password,s=this.confirmPassword,n=this.email;return 0===t.length?(Object(o.Toast)("请输入3-25个字符的用户名"),!1):t.length<3||t.length>25?(Object(o.Toast)("请输入3-25个字符的用户名"),!1):0===e.length?(Object(o.Toast)("请输入密码"),!1):e.length<6||e.length>20?(Object(o.Toast)("请输入6-20个字符的密码"),!1):0===s.length?(Object(o.Toast)("请输入确认密码"),!1):e.length!==s.length?(Object(o.Toast)("确认密码与输入密码不一致"),!1):e!==s?(Object(o.Toast)("确认密码与输入密码不一致"),!1):0===n.length?(Object(o.Toast)("请输入邮箱"),!1):!!this.validator.isEmail(n)||(Object(o.Toast)("邮箱地址不正确"),!1)},signup:function(){var t=this;if(this.check()){var e=this.$cookie.get("r");o.Indicator.open(),p.b(this.username,this.email,this.password,e).then(function(e){t.saveToken({token:e.token}),o.Indicator.close(),t.saveUser(e.user),e.user&&e.user.is_completed?(Object(o.Toast)("注册成功"),t.goProfile()):t.goProfileAdd()},function(t){o.Indicator.close(),Object(o.Toast)(t.errorMsg)})}},onSubmit:function(){this.signup()},onAgreement:function(){this.$router.push({name:"webPage",query:{url:this.aggrementUrl,title:"注册协议"}})}})},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"section-wrapper top-wrapper"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"bottom-input",attrs:{placeholder:"用户名",maxlength:"25"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),s("label",{staticClass:"tips"},[t._v("用户名为3-25位，可以包含英文与数字")]),t._v(" "),s("div",{staticClass:"section-wrapper bottom-wrapper"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"设置密码",maxlength:"20"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"bottom-input",attrs:{type:"password",placeholder:"确认密码",maxlength:"20"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})])]),t._v(" "),s("label",{staticClass:"tips"},[t._v("6-20位数字/字母/符号")]),t._v(" "),s("div",{staticClass:"section-wrapper top-wrapper"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"bottom-input",attrs:{placeholder:"邮箱地址"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),s("label",{staticClass:"tips"},[t._v("请输入邮箱地址")]),t._v(" "),s("gk-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("注册")]),t._v(" "),s("div",{staticClass:"link-wrapper"},[s("span",{staticClass:"left-text"},[t._v("点击注册表示同意")]),t._v(" "),s("span",{staticClass:"right-text",on:{click:t.onAgreement}},[t._v("《用户协议》")])])],1)},staticRenderFns:[]};var g={name:"Signup",components:{MobileSignup:d,EmailSignup:s("VU/8")(m,v,!1,function(t){s("dWgr")},"data-v-aad68358",null).exports},data:function(){return{currentIndex:0,items:[{id:1,title:"手机号"},{id:2,title:"邮箱"}]}},computed:{isFirstTab:function(){return 0===this.currentIndex}},methods:{getTitle:function(){return this.isFirstTab?"快速注册":"邮箱注册"},goBack:function(){this.$router.go(-1)},onIndexChange:function(t){this.currentIndex=t}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("mt-header",{staticClass:"header",attrs:{fixed:"",title:t.getTitle()}},[s("header-item",{attrs:{slot:"left",isBack:!0},on:{onclick:t.goBack},slot:"left"})],1),t._v(" "),s("top-list",{staticClass:"topList",attrs:{items:t.items},on:{onIndexChange:t.onIndexChange}}),t._v(" "),0===t.currentIndex?s("mobile-signup"):1===t.currentIndex?s("email-signup"):t._e()],1)},staticRenderFns:[]};var f=s("VU/8")(g,h,!1,function(t){s("C0xi")},"data-v-1e4f5b83",null);e.default=f.exports}});
//# sourceMappingURL=28.20d81ad2402f88b93bb4.js.map